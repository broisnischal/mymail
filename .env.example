# ============================================
# MyMail Configuration
# ============================================
# Copy this file to .env and update with your values
# cp .env.example .env

# ============================================
# API Server Configuration
# ============================================
API_PORT=3000
API_HOST=0.0.0.0
JWT_SECRET=change-me-in-production-use-random-string-here
JWT_EXPIRY=7d

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# Development (local Docker)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/mymail?sslmode=disable
# Production example:
# DATABASE_URL=postgresql://user:password@host:5432/mymail?sslmode=require

DB_MAX_CONNECTIONS=10

# ============================================
# Redis Configuration
# ============================================
# Development (local Docker)
REDIS_URL=redis://localhost:6379
# Production example:
# REDIS_URL=redis://user:password@host:6379

REDIS_PREFIX=mymail:

# ============================================
# MinIO Configuration (Object Storage)
# ============================================
# Development (local Docker)
MINIO_ENDPOINT=localhost:9000
# Production example:
# MINIO_ENDPOINT=s3.amazonaws.com
# MINIO_ENDPOINT=minio.example.com:9000

MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=mails
MINIO_USE_SSL=false

# ============================================
# SMTP Server Configuration
# ============================================
SMTP_HOST=0.0.0.0
SMTP_PORT=2525
# Note: Port 25 requires root privileges. Use 2525 for development.
# For production with MX records, you may need port 25 on a VPS.

SMTP_DOMAIN=jotko.site
# Development alternative: mail.localhost

SMTP_MAX_SIZE=10485760
# Maximum email size in bytes (default: 10MB)

# ============================================
# Worker Configuration
# ============================================
WORKER_CONCURRENCY=10
WORKER_BATCH_SIZE=100

# ============================================
# Rate Limiting Configuration
# ============================================
RATE_LIMIT_EMAILS_PER_USER=1000
RATE_LIMIT_EMAILS_PER_HOUR=100
RATE_LIMIT_CONNECTIONS_PER_IP=10

# ============================================
# DKIM Configuration (Email Authentication)
# ============================================
DKIM_ENABLED=false
DKIM_SELECTOR=default
DKIM_DOMAIN=jotko.site
# DKIM_PRIVATE_KEY should be set to your private key content
# Generate with: openssl genrsa -out dkim_private.pem 2048
DKIM_PRIVATE_KEY=

# ============================================
# TLS/SSL Configuration
# ============================================
TLS_ENABLED=false
TLS_CERT_FILE=
TLS_KEY_FILE=
# For production, use Let's Encrypt or your SSL certificate

# ============================================
# Temp Mail Configuration
# ============================================
TEMP_MAIL_ENABLED=true
TEMP_MAIL_TTL=86400
# TTL in seconds (default: 86400 = 24 hours)

# ============================================
# Environment
# ============================================
NODE_ENV=development
# Options: development, production, test
